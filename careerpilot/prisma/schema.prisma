// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// User model with settings (will be expanded further in Task 2.0)
model User {
  id            String    @id @default(cuid())
  email         String    @unique
  name          String
  password      String? // Null for OAuth users
  avatar        String?
  emailVerified DateTime?

  // Settings
  timezone String @default("UTC")

  // Notification preferences
  notifyInApp    Boolean @default(true)
  notifyEmail    Boolean @default(true)
  notifySlack    Boolean @default(false)
  notifyDiscord  Boolean @default(false)
  slackWebhook   String?
  discordWebhook String?

  // Data retention (in days, null = forever)
  dataRetentionDays Int? @default(365)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}
